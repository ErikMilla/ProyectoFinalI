#Conexion SQL

spring.application.name=ProyectoFinalIntegrador
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/bd_Integrador
spring.datasource.username=root
spring.datasource.password=

spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update

server.port = 8081

# Pool de conexiones
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000

# ===============================================
# CONFIGURACI\u00d3N DE EXPORTACI\u00d3N EXCEL
# ===============================================

# Tama\u00f1o m\u00e1ximo de archivo Excel (en bytes) - 10MB
export.max-file-size=10485760

# Tipos de reporte permitidos
export.allowed-types=COMPLETO,VENTAS,INVENTARIO,CATEGORIAS,CLIENTES

# L\u00edmite de exportaciones por hora por usuario
export.rate-limit-per-hour=10

# Tiempo de expiraci\u00f3n de archivos temporales (minutos)
export.temp-file-expiration=30

# Directorio temporal para generaci\u00f3n de archivos
export.temp-directory=${java.io.tmpdir}/excel-exports

# Habilitar compresi\u00f3n de archivos grandes
export.enable-compression=true

# Tama\u00f1o m\u00ednimo para comprimir (5MB)
export.compression-threshold=5242880

# ===============================================
# CONFIGURACI\u00d3N DE SEGURIDAD PARA EXCEL
# ===============================================

# Habilitar encriptaci\u00f3n de archivos sensibles
export.security.enable-encryption=false

# Contrase\u00f1a por defecto para archivos protegidos (cambiar en producci\u00f3n)
export.security.default-password=TiendaBebe2025!

# Habilitar marca de agua en documentos
export.security.enable-watermark=true

# Texto de marca de agua
export.security.watermark-text=CONFIDENCIAL - Tienda de Beb\u00e9s

# ===============================================
# CONFIGURACI\u00d3N DE AUDITOR\u00cdA
# ===============================================

# Habilitar registro de auditor\u00eda para exportaciones
export.audit.enabled=true

# Nivel de detalle de auditor\u00eda (BASIC, DETAILED, FULL)
export.audit.level=DETAILED

# Retenci\u00f3n de logs de auditor\u00eda (d\u00edas)
export.audit.retention-days=90

# ===============================================
# CONFIGURACI\u00d3N DE PERFORMANCE
# ===============================================

# N\u00famero m\u00e1ximo de filas por hoja
export.performance.max-rows-per-sheet=50000

# Habilitar procesamiento en lotes
export.performance.batch-processing=true

# Tama\u00f1o del lote
export.performance.batch-size=1000

# Timeout para generaci\u00f3n de archivos (segundos)
export.performance.generation-timeout=300

# ===============================================
# CONFIGURACI\u00d3N DE NOTIFICACIONES
# ===============================================

# Habilitar notificaciones por email para exportaciones grandes
export.notification.enabled=false

# Email de notificaci\u00f3n (cambiar por tu email real si habilitas notificaciones)
export.notification.email=admin@tiendabebes.com

# Umbral para notificaci\u00f3n (n\u00famero de registros)
export.notification.threshold=10000

# ===============================================
# CONFIGURACI\u00d3N DE APACHE POI
# ===============================================

# Usar streaming para archivos grandes
poi.streaming.enabled=true

# Umbral para activar streaming (n\u00famero de filas)
poi.streaming.threshold=1000

# Memoria m\u00e1xima para POI (MB)
poi.max-memory=512

# Habilitar cach\u00e9 de fuentes
poi.font-cache.enabled=true

# ===============================================
# CONFIGURACI\u00d3N DE LIMPIEZA AUTOM\u00c1TICA
# ===============================================

# Habilitar limpieza autom\u00e1tica de archivos temporales
export.cleanup.enabled=true

# Intervalo de limpieza (horas)
export.cleanup.interval=6

# Edad m\u00e1xima de archivos temporales (horas)
export.cleanup.max-age=24

# ===============================================
# CONFIGURACI\u00d3N DE LOGGING
# ===============================================

# Nivel de log general
logging.level.root=INFO

# Logs espec\u00edficos para tu paquete
logging.level.com.ProyectoFinal.ProyectoFinalIntegrador=DEBUG

# Logs para exportaci\u00f3n Excel
logging.level.com.ProyectoFinal.ProyectoFinalIntegrador.Servicio.ExcelExportService=DEBUG
logging.level.com.ProyectoFinal.ProyectoFinalIntegrador.Controlador.ExcelExportController=INFO

# Logs de SQL (ya lo tienes pero lo incluyo para completitud)
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===============================================
# CONFIGURACI\u00d3N DE ARCHIVOS Y MULTIPART
# ===============================================

# Tama\u00f1o m\u00e1ximo de archivo para upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Directorio temporal
spring.servlet.multipart.location=${java.io.tmpdir}

# ===============================================
# CONFIGURACI\u00d3N DE JACKSON (JSON)
# ===============================================

# Formato de fechas
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=America/Lima

# No fallar en propiedades desconocidas
spring.jackson.deserialization.fail-on-unknown-properties=false

# ===============================================
# CONFIGURACI\u00d3N DE CORS (si lo necesitas)
# ===============================================

# Or\u00edgenes permitidos
cors.allowed-origins=http://localhost:3000,http://localhost:3001

# M\u00e9todos permitidos
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS

# Headers permitidos
cors.allowed-headers=Authorization,Content-Type,X-Requested-With

# ===============================================
# CONFIGURACI\u00d3N DE ACTUATOR (MONITOREO)
# ===============================================

# Endpoints habilitados
management.endpoints.web.exposure.include=health,info,metrics

# Mostrar detalles de salud
management.endpoint.health.show-details=when-authorized

# Puerto de management (opcional, si quieres separarlo)
# management.server.port=8082

# ===============================================
# CONFIGURACI\u00d3N DE SESI\u00d3N
# ===============================================

# Timeout de sesi\u00f3n (30 minutos)
server.servlet.session.timeout=30m

# Nombre de la cookie de sesi\u00f3n
server.servlet.session.cookie.name=TIENDABEBE_SESSION

# Cookie segura (habilitar en producci\u00f3n con HTTPS)
# server.servlet.session.cookie.secure=true

# ===============================================
# CONFIGURACI\u00d3N ADICIONAL DE JPA
# ===============================================

# Mostrar SQL formateado
spring.jpa.properties.hibernate.format_sql=true

# Estad\u00edsticas de Hibernate
spring.jpa.properties.hibernate.generate_statistics=false

# Batch size para operaciones
spring.jpa.properties.hibernate.jdbc.batch_size=25

# ===============================================
# CONFIGURACI\u00d3N DE CACH\u00c9 (OPCIONAL)
# ===============================================

# Tipo de cach\u00e9
spring.cache.type=simple

# Nombres de cach\u00e9
spring.cache.cache-names=productos,categorias,usuarios

# ===============================================
# CONFIGURACI\u00d3N DE VALIDACI\u00d3N
# ===============================================

# Modo de validaci\u00f3n
spring.jpa.properties.javax.persistence.validation.mode=auto

# ===============================================
# CONFIGURACI\u00d3N DE ERRORES
# ===============================================

# Incluir mensaje en errores
server.error.include-message=always

# Incluir binding errors
server.error.include-binding-errors=always

# ===============================================
# CONFIGURACI\u00d3N PERSONALIZADA DE TU APLICACI\u00d3N
# ===============================================

# Nombre de la empresa (usado en marca de agua)
company.name=Tienda de Beb\u00e9s

# Moneda por defecto
app.currency=PEN

# Zona horaria
app.timezone=America/Lima

# Email de soporte
app.support.email=soporte@tiendabebes.com

# Versi\u00f3n de la API
app.api.version=1.0

# ===============================================
# CONFIGURACI\u00d3N PARA DESARROLLO
# (Comentar o cambiar en producci\u00f3n)
# ===============================================

# Habilitar H2 Console (si usas H2 para testing)
# spring.h2.console.enabled=true

# Pretty print JSON
spring.jackson.serialization.indent-output=true

# Mostrar par\u00e1metros de binding SQL
logging.level.org.hibernate.type=TRACE

# ===============================================
# CONFIGURACI\u00d3N PARA PRODUCCI\u00d3N
# (Descomentar cuando pases a producci\u00f3n)
# ===============================================

# spring.jpa.show-sql=false
# logging.level.root=WARN
# logging.level.com.ProyectoFinal.ProyectoFinalIntegrador=INFO
# export.security.enable-encryption=true
# server.servlet.session.cookie.secure=true
# spring.datasource.password=${DB_PASSWORD}
# export.security.default-password=${EXCEL_PASSWORD}

#Conexion oracle

#spring.application.name=ProyectoFinalIntegrador
#spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
#spring.datasource.url=jdbc:oracle:thin:@localhost:1521/XE
#spring.datasource.username=USUARIO_GABRIEL
#spring.datasource.password=Elteketeke1?

#spring.jpa.show-sql=true
#spring.jpa.hibernate.ddl-auto=update
#server.port =8081